(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888],{4184:function(e,n){var t;!function(){"use strict";var r={}.hasOwnProperty;function s(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var a=typeof t;if("string"===a||"number"===a)e.push(t);else if(Array.isArray(t)){if(t.length){var c=s.apply(null,t);c&&e.push(c)}}else if("object"===a)if(t.toString===Object.prototype.toString)for(var i in t)r.call(t,i)&&t[i]&&e.push(i);else e.push(t.toString())}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(t=function(){return s}.apply(n,[]))||(e.exports=t)}()},6840:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return t(4894)}])},5713:function(e,n,t){"use strict";t.d(n,{X:function(){return f},w:function(){return d}});var r=t(5893),s=t(7294),a=t(3935),c=t(8804),i=t.n(c),o=t(6829),u=t(7609);const l=s.createContext({component:null,setLoaded:()=>null,insertTo:()=>null,insertedToRef:{current:void 0}});function d(e){let{children:n,instanceClassName:t="",loadedId:c=u.b}=e;const[d,f]=s.useState(),[p,y]=s.useState(!1),[m,b]=s.useState(),g=s.useRef(),v=s.useMemo((()=>p?(0,r.jsx)(o.Y,{unityRef:f,sampleName:c,className:t}):null),[f,t,c,p]),S=s.useMemo((()=>{const e="undefined"!==typeof document&&document.createElement("div");return e&&(e.className=i().globalUnityContainer),e}),[]);(0,s.useEffect)((()=>{S&&(m?(m.appendChild(S),S.style.display=""):(S.style.display="none",document.body.appendChild(S)))}),[S,m]);const h=(0,s.useMemo)((()=>!!S&&!!v&&(0,a.createPortal)(v,S,"unity-instance")),[S,v]),_=(0,s.useCallback)((e=>{g.current=e,b(e)}),[g,b]),j=(0,s.useMemo)((()=>({component:v,instance:d,insertedTo:m,insertTo:_,insertedToRef:g,setLoaded:y})),[v,d,m,_,g,y]);return(0,r.jsxs)(r.Fragment,{children:[h,(0,r.jsx)(l.Provider,{value:j,children:n})]})}function f(){return s.useContext(l)}},6829:function(e,n,t){"use strict";t.d(n,{Y:function(){return p}});var r=t(5893),s=t(4184),a=t.n(s),c=t(9008),i=t.n(c),o=t(7294),u=t(3935),l=t(8804),d=t.n(l),f=t(7609);function p(e){let{className:n,sampleName:s=f.b,unityRef:c,innerRef:l}=e;const{0:p,1:y}=(0,o.useState)(0),{0:m,1:b}=(0,o.useState)((0,f.m)()),{0:g,1:v}=(0,o.useState)(),S=(0,o.useMemo)((()=>"unity-canvas-ref-".concat(Math.round(1e4*Math.random()))),[]),h=(0,o.useMemo)((()=>(0,u.createPortal)((0,r.jsx)("div",{style:{width:0,height:0},id:S}),document.body,S)),[S]),_=(0,o.useCallback)((async e=>{if(!e||!m)return;const n=await t.g.createUnityInstance(e,{dataUrl:"/Unity/".concat(s,"/Build/WebInjectable.data"),frameworkUrl:"/Unity/".concat(s,"/Build/WebInjectable.framework.js"),codeUrl:"/Unity/".concat(s,"/Build/WebInjectable.wasm"),streamingAssetsUrl:"StreamingAssets",companyName:"reactunity",productName:s,productVersion:"0.1"},y);v({SendMessage:n.SendMessage.bind(n),SetFullscreen:n.SetFullscreen.bind(n),Quit:n.Quit.bind(n),SetReactScript:(e,t)=>{n.SendMessage("ReactCanvas","SetJSX",e),t&&n.SendMessage("ReactCanvas","SetCSS",t),n.SendMessage("ReactCanvas","RenderBridge")},ReplaceCSS:e=>{n.SendMessage("ReactCanvas","ReplaceCSS",e)},LoadScene:e=>n.SendMessage("ReactCanvas","LoadScene",e),ReloadScene:()=>n.SendMessage("ReactCanvas","ReloadScene")})}),[s,m,v]);return(0,o.useEffect)((()=>{null===c||void 0===c||c(g)}),[c,g]),(0,o.useEffect)((()=>{if(m)return;const e=setInterval((()=>{(0,f.m)()&&b(!0)}),100);return()=>clearInterval(e)}),[m]),(0,o.useEffect)((()=>{if(g)return()=>{}}),[g]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i(),{children:(0,r.jsx)("script",{src:"/Unity/injectable/Build/WebInjectable.loader.js",async:!0})}),(0,r.jsxs)("div",{className:a()(n,d().host,"unity"),ref:l,children:[(0,r.jsx)("canvas",{id:S,className:d().canvas,ref:_,tabIndex:-1}),p<1&&(0,r.jsxs)("div",{className:d().progress,children:[(0,r.jsx)("div",{className:d().spinner}),(0,r.jsx)("div",{className:d().progressBar,style:{paddingRight:80*(1-p)+"%"}})]})]}),h]})}},7609:function(e,n,t){"use strict";function r(){return"function"===typeof t.g.createUnityInstance}t.d(n,{b:function(){return s},m:function(){return r}});const s="injectable"},4894:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return o}});var r=t(1799),s=t(5893),a=(t(9477),t(4525),t(5713)),c=(t(6829),t(7294));t(7950),t(2417),t(2534);const i=e=>{let{children:n}=e;return(0,s.jsx)(s.Fragment,{children:n})};function o(e){let{Component:n,pageProps:t}=e,o=n.appShell||i;return n.isMDXComponent&&(o=n({}).props.originalType.appShell),c.useEffect((()=>{0}),[]),(0,s.jsx)(a.w,{children:(0,s.jsx)(o,{children:(0,s.jsx)(n,(0,r.Z)({},t))})})}},8804:function(e){e.exports={globalUnityContainer:"unity_globalUnityContainer__96CAK",host:"unity_host__reLmG",canvas:"unity_canvas__Qeu6I",progress:"unity_progress__tn9iz",progressBar:"unity_progressBar__NuQXp",barberpole:"unity_barberpole__PO8w3",cartridge:"unity_cartridge__i0Hsh"}},9477:function(){},4525:function(){},7950:function(){},2417:function(){},2534:function(){},9008:function(e,n,t){e.exports=t(5443)},1799:function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},s=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),s.forEach((function(n){r(e,n,t[n])}))}return e}t.d(n,{Z:function(){return s}})}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[9774,179],(function(){return n(6840),n(387)}));var t=e.O();_N_E=t}]);