(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{4184:function(e,n){var t;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var s=typeof t;if("string"===s||"number"===s)e.push(t);else if(Array.isArray(t)){if(t.length){var o=a.apply(null,t);o&&e.push(o)}}else if("object"===s){if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]")){e.push(t.toString());continue}for(var i in t)r.call(t,i)&&t[i]&&e.push(i)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(t=function(){return a}.apply(n,[]))||(e.exports=t)}()},6840:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return t(4894)}])},5713:function(e,n,t){"use strict";t.d(n,{X:function(){return f},w:function(){return d}});var r=t(5893),a=t(7294),s=t(3935),o=t(8804),i=t.n(o),c=t(6829),u=t(7609);const l=a.createContext({component:null,setLoaded:()=>null,insertTo:()=>null,insertedToRef:{current:void 0}});function d(e){let{children:n,instanceClassName:t="",loadedId:o=u.b}=e;const[d,f]=a.useState(),[p,g]=a.useState(!1),[y,m]=a.useState(),v=a.useRef(),b=a.useMemo((()=>p?(0,r.jsx)(c.Y,{unityRef:f,sampleName:o,className:t}):null),[f,t,o,p]),h=a.useMemo((()=>{const e="undefined"!==typeof document&&document.createElement("div");return e&&(e.className=i().globalUnityContainer),e}),[]);(0,a.useEffect)((()=>{h&&(y?(y.appendChild(h),h.style.display=""):(h.style.display="none",document.body.appendChild(h)))}),[h,y]);const S=(0,a.useMemo)((()=>!!h&&!!b&&(0,s.createPortal)(b,h,"unity-instance")),[h,b]),_=(0,a.useCallback)((e=>{v.current=e,m(e)}),[v,m]),j=(0,a.useMemo)((()=>({component:b,instance:d,insertedTo:y,insertTo:_,insertedToRef:v,setLoaded:g})),[b,d,y,_,v,g]);return(0,r.jsxs)(r.Fragment,{children:[S,(0,r.jsx)(l.Provider,{value:j,children:n})]})}function f(){return a.useContext(l)}},6829:function(e,n,t){"use strict";t.d(n,{Y:function(){return p}});var r=t(5893),a=t(4184),s=t.n(a),o=t(9008),i=t.n(o),c=t(7294),u=t(3935),l=t(8804),d=t.n(l),f=t(7609);function p(e){let{className:n,sampleName:a=f.b,unityRef:o,innerRef:l}=e;const{0:p,1:g}=(0,c.useState)(0),{0:y,1:m}=(0,c.useState)((0,f.m)()),{0:v,1:b}=(0,c.useState)(),h=(0,c.useMemo)((()=>"unity-canvas-ref-".concat(Math.round(1e4*Math.random()))),[]),S=(0,c.useMemo)((()=>(0,u.createPortal)((0,r.jsx)("div",{style:{width:0,height:0},id:h}),document.body,h)),[h]),_=(0,c.useCallback)((async e=>{if(!e||!y)return;const n=await t.g.createUnityInstance(e,{dataUrl:"/Unity/".concat(a,"/Build/WebInjectable.data"),frameworkUrl:"/Unity/".concat(a,"/Build/WebInjectable.framework.js"),codeUrl:"/Unity/".concat(a,"/Build/WebInjectable.wasm"),streamingAssetsUrl:"StreamingAssets",companyName:"reactunity",productName:a,productVersion:"0.1"},g);b({SendMessage:n.SendMessage.bind(n),SetFullscreen:n.SetFullscreen.bind(n),Quit:n.Quit.bind(n),SetReactScript:(e,t)=>{n.SendMessage("ReactCanvas","SetJSX",e),t&&n.SendMessage("ReactCanvas","SetCSS",t),n.SendMessage("ReactCanvas","RenderBridge")},ReplaceCSS:e=>{n.SendMessage("ReactCanvas","ReplaceCSS",e)},LoadScene:e=>n.SendMessage("ReactCanvas","LoadScene",e),ReloadScene:()=>n.SendMessage("ReactCanvas","ReloadScene")})}),[a,y,b]);return(0,c.useEffect)((()=>{null===o||void 0===o||o(v)}),[o,v]),(0,c.useEffect)((()=>{if(y)return;const e=setInterval((()=>{(0,f.m)()&&m(!0)}),100);return()=>clearInterval(e)}),[y]),(0,c.useEffect)((()=>{if(v)return()=>{}}),[v]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i(),{children:(0,r.jsx)("script",{src:"/Unity/injectable/Build/WebInjectable.loader.js",async:!0})}),(0,r.jsxs)("div",{className:s()(n,d().host,"unity"),ref:l,children:[(0,r.jsx)("canvas",{id:h,className:d().canvas,ref:_,tabIndex:-1}),p<1&&(0,r.jsxs)("div",{className:d().progress,children:[(0,r.jsx)("div",{className:d().spinner}),(0,r.jsx)("div",{className:d().progressBar,style:{paddingRight:80*(1-p)+"%"}})]})]}),S]})}},7609:function(e,n,t){"use strict";function r(){return"function"===typeof t.g.createUnityInstance}t.d(n,{b:function(){return a},m:function(){return r}});const a="injectable"},4894:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return u}});var r=t(1799),a=t(5893),s=t(1163),o=t(7294),i=t(4738),c=(t(4525),t(5713));t(6829),t(7950),t(2417),t(2534);{(0,i.ga)("create","G-LS8ZK1BB3T","auto");const e="onpagehide"in window?"pagehide":"unload";window.addEventListener(e,(function(){(0,i.ga)("send","timing","JS Dependencies","unload")}))}function u(e){let{Component:n,pageProps:t}=e;const u=(0,s.useRouter)();return(0,o.useEffect)((()=>{/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&(history.scrollRestoration="auto")}),[]),(0,o.useEffect)((()=>{const e=e=>{const n=e.split(/[\?\#]/)[0];(0,i.ga)("set","page",n),(0,i.ga)("send","pageview")};return u.events.on("routeChangeComplete",e),()=>{u.events.off("routeChangeComplete",e)}}),[u.events]),(0,a.jsx)(c.w,{children:(0,a.jsx)(n,(0,r.Z)({},t))})}},4738:function(e,n,t){"use strict";t.d(n,{ga:function(){return o}});let r=[],a=null,s=null;function o(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];"function"!==typeof a?(r.push(n),s||(s=t.e(893).then(t.t.bind(t,2893,23)).then((e=>{a=e.default,s=null,r.forEach((n=>{e.default.apply(null,n)})),r=[]})))):a.apply(null,n)}},8804:function(e){e.exports={globalUnityContainer:"unity_globalUnityContainer__96CAK",host:"unity_host__reLmG",canvas:"unity_canvas__Qeu6I",progress:"unity_progress__tn9iz",progressBar:"unity_progressBar__NuQXp",barberpole:"unity_barberpole__PO8w3",cartridge:"unity_cartridge__i0Hsh"}},4525:function(){},7950:function(){},2417:function(){},2534:function(){},9008:function(e,n,t){e.exports=t(5443)},1163:function(e,n,t){e.exports=t(387)},1799:function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){r(e,n,t[n])}))}return e}t.d(n,{Z:function(){return a}})}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[774,179],(function(){return n(6840),n(387)}));var t=e.O();_N_E=t}]);